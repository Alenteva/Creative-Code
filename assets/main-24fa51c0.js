import{a as c,i as l}from"./vendor-43aad0d4.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const v=document.querySelector(".header-switch"),h=document.querySelector("body"),f=document.querySelector(".header"),S=document.querySelector(".header-logo-svg"),T=document.querySelector(".shop-list-svg-basket");document.querySelector(".header-nav");const $=document.querySelector(".home"),E=document.querySelector(".header-menu"),q=localStorage.getItem("darkTheme");q==="true"?(document.body.classList.add("dark-theme"),C()):x();v.addEventListener("click",()=>{v.checked?(document.body.classList.add("dark-theme"),localStorage.setItem("darkTheme","true"),C()):(document.body.classList.remove("dark-theme"),localStorage.setItem("darkTheme","false"),x())});function C(){h.style.backgroundColor="#202024",h.style.color="#ffffff",f.style.backgroundColor="#111111",f.style.borderColor="#ffffff",E.innerHTML='<svg width="28" height="28"><use href="./images/icons/symbol-defs.svg#icon-menu2"></use></svg>',S.innerHTML='<svg class="header-logo-svg" width="109" height="28"><use href="./images/icons/symbol-defs.svg#icon-logo2"></use></svg>',T.innerHTML='<svg class="shop-list-svg-basket" width="14" height="18"><use href="./images/icons/symbol-defs.svg#icon-icon-basket2"></use></svg>'}function x(){h.style.backgroundColor="#F6F6F6",h.style.color="#111111",f.style.backgroundColor="#ffffff",f.style.borderColor="#111111",E.innerHTML='<svg width="28" height="28"><use href="./images/icons/symbol-defs.svg#icon-menu"></use></svg>',S.innerHTML='<svg class="header-logo-svg" width="109" height="28"><use href="./images/icons/symbol-defs.svg#icon-logo"></use></svg>',T.innerHTML='<svg class="shop-list-svg-basket" width="14" height="18"><use href="./images/icons/symbol-defs.svg#icon-icon-basket"></use></svg>'}$.classList.add("header-selector");document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".header-nav a");e.forEach(o=>{o.addEventListener("click",function(s){e.forEach(n=>n.classList.remove("header-selector")),o.classList.add("header-selector")})})});function H(){const e=document.getElementById("burgerToggle"),o=document.getElementById("burgerMenu");e.addEventListener("click",function(){o.classList.toggle("burger-menu-show"),o.classList.contains("burger-menu-show")?e.innerHTML=`
        <svg width="18" height="18" stroke="#000">
          <use href="../images/icons/symbol-defs.svg#icon-close"></use>
        </svg>`:e.innerHTML=`
        <svg width="28" height="28">
          <use href="../images/icons/symbol-defs.svg#icon-menu"></use>
        </svg>`})}document.addEventListener("DOMContentLoaded",function(){H()});const B=document.getElementById("home");document.getElementById("shopping-list");B.classList.add("active");const d=document.querySelector(".list-one"),k=document.querySelector(".list_categories"),i=document.querySelector(".main-title");document.querySelector(".home");let u;function _(){let e=window.innerWidth;return e<=767?0:e<=1439?2:4}function w(){const e=i.textContent.split(" "),o=e[e.length-1];i.innerHTML=i.innerHTML.replace(o,`<span class="blue">${o}</span>`)}async function M(e){d.innerHTML="";let o="";const s=_();for(let n in e){o+=`
            <li class="books_list">
                <h2 class="name_category">${e[n].list_name}</h2>
                <ul class="images_books">`;for(let t in e[n].books)if(o+=`<li class="image_book" data-category="${e[n].books[t]._id}">
                                    <div class="div-animation">
                                        <img class="img-example" alt="Book title" src="${e[n].books[t].book_image}"></img>
                                        <div class="box-quick-view"><p class="animation-paragraf">Quick view</p></div>
                                    </div>
                                
                                <div class="box-cards">
                                    <p class="title-book">${e[n].books[t].title}</p>
                                    <p class="author-book">${e[n].books[t].author}</p>
                                </div>
                            </li>`,s==t)break;o+=`</ul><button class="button-see-more" data-category="${e[n].list_name}">See more</button></li>`}d.insertAdjacentHTML("beforeend",o)}d.addEventListener("click",async e=>{if(e.target.classList.contains("button-see-more")){const o=e.target.dataset.category;i.textContent=o;const s=i.textContent.split(" "),n=s[s.length-1];i.innerHTML=i.innerHTML.replace(n,`<span class="blue">${n}</span>`),await c.get(`https://books-backend.p.goit.global/books/category?category=${o}`).then(t=>{if(t.data.length===0)throw new Error("Sorry, books in the selected category were not found");y(t.data)}).catch(t=>l.error({title:"Error",message:t.message}))}});async function I(){d.innerHTML="",i.textContent==="Best Sellers Books"?await c.get("https://books-backend.p.goit.global/books/top-books").then(e=>{if(e.data.length===0)throw new Error("Sorry, books in the selected category were not found");M(e.data)}).catch(e=>l.error({title:"Error",message:e.message})):await c.get(`https://books-backend.p.goit.global/books/category?category=${u}`).then(e=>{if(e.data.length===0)throw new Error("Sorry, books in the selected category were not found");y(e.data)}).catch(e=>l.error({title:"Error",message:e.message}))}I();async function O(e){let o="";const s='<li tabindex="0" class="categoria">All categories</li>';e.forEach(t=>{o+=`<li tabindex="0" class="categoria">${t.list_name}</li>`}),k.insertAdjacentHTML("beforeend",o),k.insertAdjacentHTML("afterbegin",s),document.querySelectorAll(".categoria").forEach(t=>{t.addEventListener("click",async r=>{r.preventDefault(),u=r.target.textContent,u=u.replace(/ /g,"%20"),r.target.textContent!=="All categories"?(i.textContent=r.target.textContent,w(),await c.get(`https://books-backend.p.goit.global/books/category?category=${u}`).then(a=>{if(a.data.length===0)throw new Error("Sorry, books in the selected category were not found");y(a.data)}).catch(a=>l.error({title:"Error",message:a.message}))):(i.textContent="Best Sellers Books",w(),await c.get("https://books-backend.p.goit.global/books/top-books").then(a=>{if(a.data.length===0)throw new Error("Sorry, books in the selected category were not found");M(a.data)}).catch(a=>l.error({title:"Error",message:a.message})))})})}c.get("https://books-backend.p.goit.global/books/category-list").then(e=>{O(e.data)}).catch(e=>l.error({title:"Error",message:e.message}));async function y(e){let o="";d.innerHTML="",e.forEach(s=>{o+=`<li class="book" data-category="${s._id}">
                        <div class="div-animation">
                            <img class="img-example" alt="Book title" src="${s.book_image}"></img>
                            <div class="box-quick-view"><p class="animation-paragraf">Quick view</p></div>
                        </div>
                                <div class="box-cards">
                                    <p class="title-book">${s.title}</p>
                                    <p class="author-book">${s.author}</p>
                                </div>
                      </li>`}),d.insertAdjacentHTML("beforeend",o)}const A=document.querySelector(".box-quick-view");document.querySelector(".modal-btn");A.addEventListener("click",e=>{e.preventDefault();const s=e.target.closest(".img_example").dataset.category;`${s.book_image}${s.title}${s.author}${s.description}${s.buy_links.map(n=>{`${n.url}${n.name}${n.name}`}).join("")}`});const b=document.querySelector(".scrollToTop");window.onscroll=()=>{window.scrollY>500?b.classList.remove("isHide"):window.scrollY<500&&b.classList.add("isHide"),b.onclick=()=>{window.scrollTo(0,0)}};const m=document.querySelector(".add-remove-btn"),L=document.querySelector(".information"),p="checkout";let g=[];m.addEventListener("click",()=>{m.textContent.trim()==="add to shopping list"?(m.textContent="remove from the shopping list",L.classList.remove("visually-hidden"),g=JSON.parse(localStorage.getItem(p))??[],g.push(...g),localStorage.setItem(p,JSON.stringify(g))):(m.textContent="add to shopping list",L.classList.add("visually-hidden"),localStorage.removeItem(p),g=[])});
//# sourceMappingURL=main-24fa51c0.js.map
