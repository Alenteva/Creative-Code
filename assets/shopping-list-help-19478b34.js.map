{"version":3,"file":"shopping-list-help-19478b34.js","sources":["../../src/js/header.js","../../src/js/shopping-list-help.js"],"sourcesContent":["const switcher = document.querySelector('.header-switch');\nconst bodyWallpaper = document.querySelector('body');\nconst header = document.querySelector('.header');\nconst svgElement1 = document.querySelector('.header-logo-svg');\nconst svgElement2 = document.querySelector('.shop-list-svg-basket');\nconst links = document.querySelector('.header-nav');\nconst home = document.querySelector('.home');\nconst menu = document.querySelector('.header-menu');\nconst shopList = document.querySelector('.shop-list');\n\nconst isDarkTheme = localStorage.getItem('darkTheme');\n\nif (isDarkTheme === 'true') {\n  document.body.classList.add('dark-theme');\n  darckWallpaper();\n} else {\n  whiteWallpaper();\n}\n\nswitcher.addEventListener('click', () => {\n  if (switcher.checked) {\n    document.body.classList.add('dark-theme');\n    localStorage.setItem('darkTheme', 'true');\n    darckWallpaper();\n  } else {\n    document.body.classList.remove('dark-theme');\n    localStorage.setItem('darkTheme', 'false');\n    whiteWallpaper();\n  }\n});\n\nfunction darckWallpaper() {\n  bodyWallpaper.style.backgroundColor = '#202024';\n  bodyWallpaper.style.color = '#ffffff';\n  header.style.backgroundColor = '#111111';\n  header.style.borderColor = '#ffffff';\n  menu.innerHTML =\n    '<svg width=\"28\" height=\"28\"><use href=\"/images/icons/symbol-defs.svg#icon-menu2\"></use></svg>';\n  svgElement1.innerHTML =\n    '<svg class=\"header-logo-svg\" width=\"109\" height=\"28\"><use href=\"/images/icons/symbol-defs.svg#icon-logo2\"></use></svg>';\n  if (shopList.classList.contains('active-shop')) {\n    svgElement2.innerHTML =\n      '<svg class=\"shop-list-svg-basket\" width=\"14\" height=\"18\"><use href=\"/images/icons/symbol-defs.svg#icon-icon-basket\"></use></svg>';\n  } else {\n    svgElement2.innerHTML =\n      '<svg class=\"shop-list-svg-basket\" width=\"14\" height=\"18\"><use href=\"/images/icons/symbol-defs.svg#icon-icon-basket2\"></use></svg>';\n  }\n}\n\nfunction whiteWallpaper() {\n  bodyWallpaper.style.backgroundColor = '#F6F6F6';\n  bodyWallpaper.style.color = '#111111';\n  header.style.backgroundColor = '#ffffff';\n  header.style.borderColor = '#111111';\n  menu.innerHTML =\n    '<svg width=\"28\" height=\"28\"><use href=\"/images/icons/symbol-defs.svg#icon-menu\"></use></svg>';\n  svgElement1.innerHTML =\n    '<svg class=\"header-logo-svg\" width=\"109\" height=\"28\"><use href=\"/images/icons/symbol-defs.svg#icon-logo\"></use></svg>';\n  svgElement2.innerHTML =\n    '<svg class=\"shop-list-svg-basket\" width=\"14\" height=\"18\"><use href=\"/images/icons/symbol-defs.svg#icon-icon-basket\"></use></svg>';\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const homeLink = document.querySelector('.home');\n  const shopLink = document.querySelector('.shop-list');\n  homeLink.addEventListener('click', function () {\n    homeLink.classList.add('active-home');\n    shopLink.classList.remove('active-home');\n    localStorage.setItem('activeButton', 'home');\n  });\n  shopLink.addEventListener('click', function () {\n    shopLink.classList.add('active-shop');\n    homeLink.classList.remove('active-shop');\n    localStorage.setItem('activeButton', 'shop');\n  });\n  const activeButton = localStorage.getItem('activeButton'); // Перевірка localStorage при завантаженні сторінки\n  if (activeButton === 'home') {\n    homeLink.classList.add('active-home');\n  } else if (activeButton === 'shop') {\n    shopLink.classList.add('active-shop');\n  }\n});\n","document.addEventListener('DOMContentLoaded', function () {\n  const bookListContainer = document.querySelector('.shoplist-title');\n\n  // Создание объекта книги\n  const booksData = [\n    {\n      _id: '1',\n      book_image: 'image1.jpg',\n      title: 'Book 1',\n      list_name: 'List 1',\n      description: 'Description of book 1',\n      author: 'Author 1',\n      amazon_product_url: 'amazon1.com',\n      buy_links: 'buy1.com',\n    },\n    {\n      _id: '2',\n      book_image: 'image2.jpg',\n      title: 'Book 2',\n      list_name: 'List 2',\n      description: 'Description of book 2',\n      author: 'Author 2',\n      amazon_product_url: 'amazon2.com',\n      buy_links: 'buy2.com',\n    },\n    {\n      _id: '3',\n      book_image: 'image3.jpg',\n      title: 'Book 3',\n      list_name: 'List 3',\n      description: 'Description of book 3',\n      author: 'Author 3',\n      amazon_product_url: 'amazon3.com',\n      buy_links: 'buy3.com',\n    },\n  ];\n\n  // Сериализация объекта книги в JSON и установка его в localStorage\n  localStorage.setItem('idBooks', JSON.stringify(booksData));\n\n  // ======================================================================================================\n\n  // Викликаємо функцію для отримання книг з localStorage\n  const books = loadFromLS();\n\n  //==================== логіка відкриття вікна з книжками або без та видалення книжок по click\n  if (books.length === 0) {\n    bookListContainer.innerHTML = emptyMessage;\n  } else {\n    renderBooks(books);\n\n    const btnDeleteBook = document.querySelectorAll('.shoplist-btn-delete'); // знайшли всі кнопки видалення\n\n    btnDeleteBook.forEach(btn => {\n      btn.addEventListener('click', event => {\n        console.log('Hello');\n        //перевірка натискання саме на кнопки\n        function selectColor(event) {\n          if (event.target.nodeName !== 'BUTTON') {\n            return;\n          }\n        }\n\n        if (event.target.closest('.shoplist-btn-delete')) {\n          const bookId = event.target.dataset.bookId;\n          console.log(bookId);\n          let updatedBooks = books.filter(book => book._id !== bookId);\n\n          localStorage.setItem('books', JSON.stringify(updatedBooks));\n\n          renderBooks(updatedBooks);\n\n          const liToDelete = document.querySelector(\n            `li[data-book-id=\"${bookId}\"]`\n          );\n          if (liToDelete) {\n            liToDelete.remove();\n          }\n        }\n      });\n    });\n  }\n\n  // ================= функція відображення трьох книжок на сторінці==================\n  function renderBooks(books) {\n    const limitedBooks = books.slice(0, 3);\n\n    const bookItemsHTML = limitedBooks\n      .map(book => {\n        return `<li>${templateBook(book)}</li>`;\n      })\n      .join('');\n\n    const bookListContainer = document.querySelector('.shoppinglist-container');\n    bookListContainer.innerHTML = `<ul>${bookItemsHTML}</ul>`;\n  }\n\n  // ================функція для отримання книг з localStorage\n  function loadFromLS() {\n    const booksJSON = localStorage.getItem('idBooks') || '[]';\n    return JSON.parse(booksJSON);\n  }\n\n  //   =============== функція рендеру розмітки кратинки однієї книжки в LS ========\n\n  function templateBook(book) {\n    const {\n      _id,\n      book_image,\n      title,\n      list_name,\n      description,\n      author,\n      amazon_product_url,\n      buy_links,\n    } = book;\n\n    return `\n   <div class=\"shoplist-error container is-active\">\n      <div id=\"${_id}\"></div>   \n        <img src=\"${book_image}\" alt=\"${title}\" class=\"shoplist-bookcover\"/>\n        <div class=\"shoplist\">\n          <h2 class=\"shoplist-title-book\">${title}</h2>\n          <p class=\"shoplist-category-book\">${list_name}</p>\n          <p class=\"shoplist-description\">${description}</p>\n          <p class=\"shoplist-author\">${author}</p>\n        </div>\n         <div class=\"logo-book\">\n        <button id=\"deleteBtn\" type=\"button\" class=\"shoplist-btn-delete\" data-book-id=\"${_id}\">\n          <svg class=\"shoplist-btn-icon\" width=\"16\" height=\"16\">\n            <use href=\"/src/images/icons/symbol-defs.svg#icon-cart\"></use>\n          </svg>\n        </button>\n               <ul class=\"shoplist-links\">\n          <li><img src=\"${amazon_product_url}\" alt=\"amazon logo\" class=\"amazon\"></li>\n          <li><img src=\"${buy_links}\" alt=\"open book\" class=\"apple-book\"></li>\n        </ul>\n        </div>\n      </div>\n    `;\n  }\n\n  //=============== функція рендеру розмітки вікна, якщо немає книжок в LS ========\n  const img = 'books-tab-2x.png'; // назва файлу зображення\n  const imgPath = 'images/shopping-list/' + img;\n\n  const emptyMessage = `\n    <div class=\"shoplist-error container is-active\">\n      </div>\n      <div class=\"shoplist-error\">\n        <h1 class=\"shoplist-title error\">\n          Shopping\n          <span class=\"shoplist-title-span\">List</span>\n        </h1>\n        <div class=\"shoplist-error-content\">\n          <p class=\"shoplist-error-text\">This page is empty, add some books and proceed to order.</p>\n          <img src=\"${imgPath}\" alt=\"books\" class=\"shoplist-error-books\">\n        </div>\n      </div>\n    </div>\n  `;\n});\n\n//  // =============функція отримання теми з LS===============\n//   function themeFromLs() {\n//     const savedTheme = localStorage.getItem('theme');\n//     if (savedTheme) {\n//       changeTheme(savedTheme);\n//     }\n//   }\n\n//   themeFromLs();\n//   // =============функція зміни теми з LS===============\n\n//   function changeTheme(theme) {\n//     const body = document.body;\n\n//     if (theme === 'dark') {\n//       body.classList.add('dark-theme');\n//       localStorage.setItem('theme', 'dark');\n//     } else {\n//       body.classList.remove('dark-theme');\n//       localStorage.setItem('theme', 'light');\n//     }\n//   }\n//==============================================================================================================\n// document.addEventListener('DOMContentLoaded', function () {\n//   const bookListContainer = document.querySelector('.shoplist-title');\n\n//   localStorage.setItem(\n//     'idBooks',\n//     JSON.stringify([\n//       {\n//         _id: '1',\n//         book_image: 'image1.jpg',\n//         title: 'Book 1',\n//         list_name: 'List 1',\n//         description: 'Description of book 1',\n//         author: 'Author 1',\n//         amazon_product_url: 'amazon1.com',\n//         buy_links: 'buy1.com',\n//       },\n//       {\n//         _id: '2',\n//         book_image: 'image2.jpg',\n//         title: 'Book 2',\n//         list_name: 'List 2',\n//         description: 'Description of book 2',\n//         author: 'Author 2',\n//         amazon_product_url: 'amazon2.com',\n//         buy_links: 'buy2.com',\n//       },\n//       {\n//         _id: '3',\n//         book_image: 'image3.jpg',\n//         title: 'Book 3',\n//         list_name: 'List 3',\n//         description: 'Description of book 3',\n//         author: 'Author 3',\n//         amazon_product_url: 'amazon3.com',\n//         buy_links: 'buy3.com',\n//       },\n//     ])\n//   );\n\n//   // Викликаємо функцію для отримання книг з localStorage\n//   const books = loadFromLS();\n//   //==================== логіка відкриття вікна з книжками або без та видалення книжок по click\n//   if (books.length === 0) {\n//     bookListContainer.innerHTML = emptyMessage;\n//   } else {\n//     renderBooks(books);\n//     const btnDeleteBook = document.querySelectorAll('.shoplist-btn-delete');\n//     console.log(btnDeleteBook);\n\n//     bookListContainer.innerHTML = templateBook(books);\n\n//     btnDeleteBook.forEach(btn => {\n//       btn.addEventListener('click', function (event) {\n//         console.log('Hello');\n//         if (event.target.closest('.shoplist-btn-delete')) {\n//           const bookId = event.target.dataset.bookId;\n//           let updatedBooks = books.filter(book => book._id !== bookId);\n\n//           localStorage.setItem('books', JSON.stringify(updatedBooks));\n\n//           renderBooks(updatedBooks);\n\n//           const liToDelete = document.querySelector(\n//             `li[data-book-id=\"${bookId}\"]`\n//           );\n//           if (liToDelete) {\n//             liToDelete.remove();\n//           }\n//         }\n//       });\n//     });\n//   }\n\n//   function renderBooks(books) {\n//     const limitedBooks = books.slice(0, 3);\n\n//     const bookItemsHTML = limitedBooks\n//       .map(book => {\n//         return `<li>${templateBook(book)}</li>`;\n//       })\n//       .join('');\n\n//     const bookListContainer = document.querySelector('.shoppinglist-container');\n//     bookListContainer.innerHTML = `<ul>${bookItemsHTML}</ul>`;\n//   }\n\n//   function loadFromLS() {\n//     const booksJSON = localStorage.getItem('idBooks') || '[]';\n//     return JSON.parse(booksJSON);\n//   }\n\n//   function changeTheme(theme) {\n//     const body = document.body;\n\n//     if (theme === 'dark') {\n//       body.classList.add('dark-theme');\n//       localStorage.setItem('theme', 'dark');\n//     } else {\n//       body.classList.remove('dark-theme');\n//       localStorage.setItem('theme', 'light');\n//     }\n//   }\n\n//   function themeFromLs() {\n//     const savedTheme = localStorage.getItem('theme');\n//     if (savedTheme) {\n//       changeTheme(savedTheme);\n//     }\n//   }\n\n//   themeFromLs();\n\n//   function templateBook(book) {\n//     const {\n//       _id,\n//       book_image,\n//       title,\n//       list_name,\n//       description,\n//       author,\n//       amazon_product_url,\n//       buy_links,\n//     } = book;\n\n//     return `\n//    <div class=\"shoplist-error container is-active\">\n//       <div id=\"${_id}\"></div>\n//         <img src=\"${book_image}\" alt=\"${title}\" class=\"shoplist-bookcover\"/>\n//         <div class=\"shoplist\">\n//           <h2 class=\"shoplist-title-book\">${title}</h2>\n//           <p class=\"shoplist-category-book\">${list_name}</p>\n//           <p class=\"shoplist-description\">${description}</p>\n//           <p class=\"shoplist-author\">${author}</p>\n//         </div>\n//         <button id=\"deleteBtn\" type=\"button\" class=\"shoplist-btn-delete\" data-book-id=\"${_id}\">\n//           <svg class=\"shoplist-btn-icon\" width=\"16\" height=\"16\">\n//             <use href=\"/src/images/icons/symbol-defs.svg#icon-cart\"></use>\n//           </svg>\n//         </button>\n//         <ul class=\"links\">\n//           <li><img src=\"${amazon_product_url}\" alt=\"amazon logo\" class=\"amazon\"></li>\n//           <li><img src=\"${buy_links}\" alt=\"open book\" class=\"apple-book\"></li>\n//         </ul>\n//       </div>\n//     `;\n//   }\n\n//   //=============== функція рендеру розмітки вікна, якщо немає книжок в LS ========\n//   const img = 'books-tab-2x.png'; // назва файлу зображення\n//   const imgPath = 'images/shopping-list/' + img;\n\n//   const emptyMessage = `\n//     <div class=\"shoplist-error container is-active\">\n//       </div>\n//       <div class=\"shoplist-error\">\n//         <h1 class=\"shoplist-title error\">\n//           Shopping\n//           <span class=\"shoplist-title-span\">List</span>\n//         </h1>\n//         <div class=\"shoplist-error-content\">\n//           <p class=\"shoplist-error-text\">This page is empty, add some books and proceed to order.</p>\n//           <img src=\"${imgPath}\" alt=\"books\" class=\"shoplist-error-books\">\n//         </div>\n//       </div>\n//     </div>\n//   `;\n// });\n"],"names":["switcher","bodyWallpaper","header","svgElement1","svgElement2","menu","shopList","isDarkTheme","darckWallpaper","whiteWallpaper","homeLink","shopLink","activeButton","bookListContainer","booksData","books","loadFromLS","emptyMessage","renderBooks","btn","event","bookId","updatedBooks","book","liToDelete","bookItemsHTML","templateBook","booksJSON","_id","book_image","title","list_name","description","author","amazon_product_url","buy_links"],"mappings":"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"}