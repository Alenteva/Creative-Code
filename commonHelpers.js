import"./assets/support-ukraine-97c0550d.js";import{a as l,i as c}from"./assets/vendor-7539751a.js";const p="/Forest-Code/assets/icon-4664cafe.svg";function D(){const e=document.getElementById("burgerToggle"),o=document.getElementById("burgerMenu");e.addEventListener("click",function(){o.classList.toggle("burger-menu-show"),o.classList.contains("burger-menu-show")?e.innerHTML=`
      <svg width="18" height="18" class="stroke-color-ber-menu">
        <use href="${p}#icon-close"></use>
      </svg>`:e.innerHTML=`
      <svg width="28" height="28" class="fill-color-ber-menu">
        <use href="${p}#icon-menu-burg"></use>
      </svg>`})}document.addEventListener("DOMContentLoaded",function(){D()});const L=document.getElementById("home");document.getElementById("shopping-list");L.classList.add("active");const g=document.querySelector(".list-one"),u=document.querySelector(".list_categories"),s=document.querySelector(".main-title"),H=document.querySelector(".container-loader");let m;function T(){let e=window.innerWidth;return e<=767?0:e<=1439?2:4}function y(){const e=s.textContent.split(" "),o=e[e.length-1];s.innerHTML=s.innerHTML.replace(o,`<span class="blue">${o}</span>`)}async function k(e){let o="";const t=T();for(let a in e){o+=`
            <li class="books_list">
                <h2 class="name_category">${e[a].list_name}</h2>
                <ul class="images_books">`;for(let i in e[a].books)if(o+=`<li class="image_book" data-category="${e[a].books[i]._id}">
                                    <div class="div-animation">
                                            <img data-category="${e[a].books[i]._id}" class="img-example" alt="Book title" src="${e[a].books[i].book_image}"></img>
                                        <div class="box-quick-view"><p class="animation-paragraf">Quick view</p></div>
                                    </div>
                                
                                <div class="box-cards">
                                    <p class="title-book">${e[a].books[i].title}</p>
                                    <p class="author-book">${e[a].books[i].author}</p>
                                </div>
                            </li>`,t==i)break;o+=`</ul><button class="button-see-more" data-category="${e[a].list_name}">See more</button></li>`}g.insertAdjacentHTML("beforeend",o),H.style.display="none"}g.addEventListener("click",async e=>{if(e.target.classList.contains("button-see-more")){H.style.display="block",g.innerHTML="";const o=e.target.dataset.category;s.textContent=o,u.querySelector(".categoria")&&u.querySelectorAll(".categoria").forEach(r=>{s.textContent===r.textContent&&(document.querySelector(".selected-categories").classList.remove("selected-categories"),r.classList.add("selected-categories"))});const t=s.textContent.split(" "),a=t[t.length-1];s.innerHTML=s.innerHTML.replace(a,`<span class="blue">${a}</span>`),await l.get(`https://books-backend.p.goit.global/books/category?category=${o}`).then(i=>{if(i.data.length===0)throw new Error("Sorry, books in the selected category were not found");b(i.data)}).catch(i=>c.error({title:"Error",message:i.message}))}});async function E(){g.innerHTML="",H.style.display="block",s.textContent==="Best Sellers Books"?await l.get("https://books-backend.p.goit.global/books/top-books").then(e=>{if(e.data.length===0)throw new Error("Sorry, books in the selected category were not found");k(e.data)}).catch(e=>c.error({title:"Error",message:e.message})):await l.get(`https://books-backend.p.goit.global/books/category?category=${m}`).then(e=>{if(e.data.length===0)throw new Error("Sorry, books in the selected category were not found");b(e.data)}).catch(e=>c.error({title:"Error",message:e.message}))}E();async function z(e){let o="";const t='<li tabindex="0" data-name="Best Sellers Books" class="categoria selected-categories">All categories</li>';e.forEach(i=>{o+=`<li tabindex="0" data-name="${i.list_name}" class="categoria">${i.list_name}</li>`}),u.insertAdjacentHTML("beforeend",o),u.insertAdjacentHTML("afterbegin",t),document.querySelectorAll(".categoria").forEach(i=>{i.addEventListener("click",async r=>{H.style.display="block",g.innerHTML="",r.preventDefault(),document.querySelector(".selected-categories").classList.remove("selected-categories"),r.target.classList.add("selected-categories"),m=r.target.textContent,m=m.replace(/ /g,"%20"),r.target.textContent!=="All categories"?(s.textContent=r.target.textContent,y(),await l.get(`https://books-backend.p.goit.global/books/category?category=${m}`).then(n=>{if(n.data.length===0)throw new Error("Sorry, books in the selected category were not found");b(n.data)}).catch(n=>c.error({title:"Error",message:n.message}))):(s.textContent="Best Sellers Books",y(),await l.get("https://books-backend.p.goit.global/books/top-books").then(n=>{if(n.data.length===0)throw new Error("Sorry, books in the selected category were not found");k(n.data)}).catch(n=>c.error({title:"Error",message:n.message})))})})}l.get("https://books-backend.p.goit.global/books/category-list").then(e=>{z(e.data)}).catch(e=>c.error({title:"Error",message:e.message}));async function b(e){console.log("ok");let o="";e.forEach(async t=>{o+=`<li class="book" data-category="${t._id}">
                        <div class="div-animation">
                        <img data-category="${t._id}" class="img-example" alt="Book title" src="${t.book_image}"></img>
                            <div class="box-quick-view"><p class="animation-paragraf">Quick view</p></div>
                        </div>
                                <div class="box-cards">
                                    <p class="title-book">${t.title}</p>
                                    <p class="author-book">${t.author}</p>
                                </div>
                      </li>`}),g.insertAdjacentHTML("beforeend",o),H.style.display="none"}const S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAMAAACrZuH4AAACbVBMVEVHcEz5cBj9nQT1iwr/nQT7cBj/dBZHcExHcEz/owD1fhT7chj/nQT9hw7/lQr9kQr7chjrdhT5cBj1fgr3dBb9jQz5cBr7cBjnZhr/nwT9kwj/bCT/VCr9ehL9lQj9iQ79lwj7fBL7chj/nwT7gRD/kwD/mwj/ehb7hQ77bhj7dBj9mwT/gSD/nQT9nQT/mwb7dhb7fhL7ehT/mwT/kQr/mQb7gxD/iwr/qwD/nwDzlQz/jwD9lwb/lwb/mQbrnQD/lQD/lQz7dBj7chj7dhbjjwD9mwb5dBj7dhb7dBj/eAz5chj/cBzzeAz7chj5dBj5cBj/dhb7eBT5dhb9dhbVfgD/fgD5dhb9mQb9eBTjcBz9kQj9iwz/mQb/nQL9nQL9lwj/nQb/mwb9mQj/mQb9iw7/mwb///////37dBb9mQb9lwj7eBb7dhb/mwb7ehT7chj/nQT7fBT9kQr7gRL9lQj9iQ79jwz9kwj//fn9hRD9jQz9y5n9hxD/+/f9yZn7gx79iwz//f37gxD7fBL9lQr7eBT9zZf9lw77fhL7gxz/+fX/59X7ehj9zZn//fv/1Z3/9+37fBb9iw7/8+v/0Zf/+fP7fhr7fBr9hw77gxL9nSD9lwz/+fH7gyD/5cP/w3b/mwT7l0T9kQz7gRT9y6P/793/z5P9mxj7gRz9y6X/7+H7hSD9mQ7/v3D7iyD9t1j7hyD7iSD9kR77fB79jx79nyL7gyL9mSD7eBr7dBT7gSL9jQ7/v3L9jSD9nyT9tVj9lxj9yZv9x5v/z5f9y5f/8eP/z5n/6dH9z5n/69H/8eX9x5n9w5P9wZErB8q2AAAAZ3RSTlMAcHAY/f0KAAAKGPv7lRiVRgxuGCCVVmgK7ZMGBpONlf2V7UaVBiAWlTT5aAivbvn9lY00FiyVGAgIEghaWlAMDBLNzekIULXrtRKvCBKvUFAseFpaBgYs63gIlZXpVFR4zc14tZWzvN9hfQAAAiNJREFUeAGN1NlPE0EcwHEVYiLKTbhvCIRytNxBvEWN933XI3jsWmtqtku73dqFrq5UgSywIGcLQsshRqPxFhUfJDw0/E0uszOztOxDvy/99Tefhz7MdFPkXdwW2qXQ4+aS2lvlVVvUqspv1pY0q2BfUWXGjvAyKov2ItC0p1Uf/Tq8aH3r4SYo6u/rTVrp79ZDseuG6aFWpiu7FXDodn6bpmjLv6P82J25AsOMe75M9g4uzQmMMLc02Dv5xzPOMELufiDqMhmG8czOeDmub2JMGJvo4zjvzKxH3mbWARF3fdpqfceJJEnyjpW/Kw5enkTul9U6HR+niHi73d7Jk8Ra5Df4yXfKWygajYtOJxLEZwIJp3PR2AhElFFyu7H4jYXklu5FKSJPskn/kHivCpuUB0Wsa8SGxUcknthGXLFYsK52JD5gwbJIJDewT1ks3iLRzrJsQzIQMcWj9CgWPizkbXEMFH6aDvIgkvgqH4KCNO1Hotr/wh8UHQMLy16R+EmIr5YXBhxiUN5WQ1FAPaNWu6c6Xnb4Al2fugI+eZrqXpW3BYoozbFQ1Hw/tdZQ4PubITD1z1OUJacUiJM1ZguqZ/jHcA/+Zq45BsS1cwaz2vN1s+HqCeWSnW8xPNLK0HIB3tPLR3QPtNIdPQtFxZmDuscb0x04XYEeTGLC8cLt4RWeSkhUH11WSllqWtJmtaS01LKUrNCnm52+dX3p2ZH/KfwHTIYyFv6WmJcAAAAASUVORK5CYII=",C="data:image/png;base64,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",j=document.querySelector(".list-one");let d=Q();v();let h,f;const B=document.querySelector(".modal-window-shop");j.addEventListener("click",async e=>{if(e.target.classList.contains("box-quick-view")){const o=e.target.parentNode.parentNode.dataset.category;A(o)}else if(e.target.classList.contains("animation-paragraf")){const o=e.target.parentNode.parentNode.parentNode.dataset.category;A(o)}else if(e.target.classList.contains("img-example")){const o=e.target.dataset.category;A(o)}});async function A(e){x(),h&&document.body.classList.add("modal-open");const t=(await l.get(`https://books-backend.p.goit.global/books/${e}`)).data;f={title:t.title,book_image:t.book_image,author:t.author,description:t.description,id:t._id,category:t.list_name,link_amazon:t.buy_links[0].url,link_goto:t.buy_links[1].url};let a=`
      <span>
          <svg class="close-window" width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path class="close-window" d="M21 7L7 21M7 7L21 21" stroke="#111111" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
      </span>
      <div class="main-modal-window-content">
          <div class="modal-image-container"><img class="modal-image" src="${t.book_image}" alt="${t.title}"></div>
          <div class="modal-main-content-text">
              <h2 class="">${t.title}</h2>
              <p class="book-author">${t.author}</p>
              <p class="modal-book-description">${t.description}</p>
              <div class="links-books">
                 <a class="" href="${t.buy_links[0].url}" rel="amazon ${t.title}" target="_blank""><img src="${C}" alt="amazon" class="filter-img"></a>
                  <a class="" href="${t.buy_links[1].url}" rel="apple-book" target="_blank""><img src="${S}" alt="amazon" class="filter-img"></a>
              </div>
          </div>
      </div>
      `;d.has(t.title)?a+=`<button class="card-books-category-button margin-add" type="button" data-id="${t._id}" data-title="${t.title}">Remove from the shopping list</button>
            <p id="congratulations">Congratulations! You have added the book to the shopping list. To delete, press the button "Remove from the shopping list".</p>`:a+=`<button class="card-books-category-button margin-add" type="button" data-id="${t._id}" data-title="${t.title}">Add to shopping list</button>
              <p id="congratulations" hidden>Congratulations! You have added the book to the shopping list. To delete, press the button "Remove from the shopping list".</p>`,document.querySelector(".modal-content").innerHTML=a,document.querySelector(".modal-window-shop").style.display="block"}B.addEventListener("click",async e=>{e.target.classList.contains("close-window")||e.target.classList.contains("modal-window-shop")?(document.querySelector(".modal-window-shop").style.display="none",h&&document.body.classList.remove("modal-open")):e.target.classList.contains("card-books-category-button")&&I(e.target)});document.addEventListener("keydown",e=>{e.key==="Escape"&&(B.style.display="none",h&&document.body.classList.remove("modal-open"))});async function I(e){try{if(e.textContent==="Add to shopping list"){if(d.has(e.dataset.title))throw new Error("This book has added");d.set(e.dataset.title,f),e.textContent="Remove from the shopping list",document.querySelector("#congratulations").removeAttribute("hidden")}else d.delete(e.dataset.title),e.textContent="Add to shopping list",document.querySelector("#congratulations").setAttribute("hidden","")}catch(o){c.error({title:"Error",message:o.message})}finally{v(),q()}}function Q(){const e=localStorage.getItem("arrayBooksShop");if(e){const o=JSON.parse(e);return new Map(o)}return new Map}function v(){const e=JSON.stringify([...d]);localStorage.setItem("arrayBooksShop",e)}function q(){d=Q()}function x(){window.innerWidth>=1440?h=!0:h=!1}const w=document.querySelector(".scrollToTop");window.onscroll=()=>{window.scrollY>500?w.classList.remove("isHide"):window.scrollY<500&&w.classList.add("isHide"),w.onclick=()=>{window.scrollTo(0,0)}};
//# sourceMappingURL=commonHelpers.js.map
