import"./assets/shopping-list-help-1d3999c7.js";import{a as r,i as l,S as w}from"./assets/vendor-08afd76d.js";function v(){const e=document.getElementById("burgerToggle"),t=document.getElementById("burgerMenu");e.addEventListener("click",function(){t.classList.toggle("burger-menu-show"),t.classList.contains("burger-menu-show")?e.innerHTML=`
        <svg width="18" height="18" stroke="#000">
          <use href="./images/icons/symbol-defs.svg#icon-close"></use>
        </svg>`:e.innerHTML=`
        <svg width="28" height="28">
          <use href="./images/icons/symbol-defs.svg#icon-menu"></use>
        </svg>`})}document.addEventListener("DOMContentLoaded",function(){v()});const S=document.getElementById("home");document.getElementById("shopping-list");S.classList.add("active");const c=document.querySelector(".list-one"),h=document.querySelector(".list_categories"),i=document.querySelector(".main-title");let d;function L(){let e=window.innerWidth;return e<=767?0:e<=1439?2:4}function b(){const e=i.textContent.split(" "),t=e[e.length-1];i.innerHTML=i.innerHTML.replace(t,`<span class="blue">${t}</span>`)}async function f(){new w(".link-img")}async function p(e){c.innerHTML="";let t="";const s=L();for(let a in e){t+=`
            <li class="books_list">
                <h2 class="name_category">${e[a].list_name}</h2>
                <ul class="images_books">`;for(let o in e[a].books)if(t+=`<li class="image_book" data-category="${e[a].books[o]._id}">
                                    <div class="div-animation">
                                            <a class="link-img" href="${e[a].books[o].book_image}"><img class="img-example" alt="Book title" src="${e[a].books[o].book_image}"></img></a>
                                        <div class="box-quick-view"><p class="animation-paragraf">Quick view</p></div>
                                    </div>
                                
                                <div class="box-cards">
                                    <p class="title-book">${e[a].books[o].title}</p>
                                    <p class="author-book">${e[a].books[o].author}</p>
                                </div>
                            </li>`,s==o)break;t+=`</ul><button class="button-see-more" data-category="${e[a].list_name}">See more</button></li>`}c.insertAdjacentHTML("beforeend",t),f()}c.addEventListener("click",async e=>{if(e.target.classList.contains("button-see-more")){const t=e.target.dataset.category;i.textContent=t;const s=i.textContent.split(" "),a=s[s.length-1];i.innerHTML=i.innerHTML.replace(a,`<span class="blue">${a}</span>`),await r.get(`https://books-backend.p.goit.global/books/category?category=${t}`).then(o=>{if(o.data.length===0)throw new Error("Sorry, books in the selected category were not found");k(o.data)}).catch(o=>l.error({title:"Error",message:o.message}))}});async function B(){c.innerHTML="",i.textContent==="Best Sellers Books"?await r.get("https://books-backend.p.goit.global/books/top-books").then(e=>{if(e.data.length===0)throw new Error("Sorry, books in the selected category were not found");p(e.data)}).catch(e=>l.error({title:"Error",message:e.message})):await r.get(`https://books-backend.p.goit.global/books/category?category=${d}`).then(e=>{if(e.data.length===0)throw new Error("Sorry, books in the selected category were not found");k(e.data)}).catch(e=>l.error({title:"Error",message:e.message}))}B();async function x(e){let t="";const s='<li tabindex="0" class="categoria">All categories</li>';e.forEach(o=>{t+=`<li tabindex="0" class="categoria">${o.list_name}</li>`}),h.insertAdjacentHTML("beforeend",t),h.insertAdjacentHTML("afterbegin",s),document.querySelectorAll(".categoria").forEach(o=>{o.addEventListener("click",async g=>{g.preventDefault(),d=g.target.textContent,d=d.replace(/ /g,"%20"),g.target.textContent!=="All categories"?(i.textContent=g.target.textContent,b(),await r.get(`https://books-backend.p.goit.global/books/category?category=${d}`).then(n=>{if(n.data.length===0)throw new Error("Sorry, books in the selected category were not found");k(n.data)}).catch(n=>l.error({title:"Error",message:n.message}))):(i.textContent="Best Sellers Books",b(),await r.get("https://books-backend.p.goit.global/books/top-books").then(n=>{if(n.data.length===0)throw new Error("Sorry, books in the selected category were not found");p(n.data)}).catch(n=>l.error({title:"Error",message:n.message})))})})}r.get("https://books-backend.p.goit.global/books/category-list").then(e=>{x(e.data)}).catch(e=>l.error({title:"Error",message:e.message}));async function k(e){let t="";c.innerHTML="",e.forEach(s=>{t+=`<li class="book" data-category="${s._id}">
                        <div class="div-animation">
                        <a class="link-img" href="${s.book_image}"><img class="img-example" alt="Book title" src="${s.book_image}"></img></a>
                            <div class="box-quick-view"><p class="animation-paragraf">Quick view</p></div>
                        </div>
                                <div class="box-cards">
                                    <p class="title-book">${s.title}</p>
                                    <p class="author-book">${s.author}</p>
                                </div>
                      </li>`}),c.insertAdjacentHTML("beforeend",t),f()}document.querySelector(".img-example");document.querySelector(".content-title");document.querySelector(".content-descr");document.querySelector(".modal-descr");document.querySelector(".amazon");document.querySelector(".apple");const u=document.querySelector("#add"),y=document.querySelector(".hidden-information");u.addEventListener("click",E);r.defaults.timeout=4e3;function E(e){const t=e.target.attributes.id.value;u.textContent==="Add to shopping list"?T(t):C(t)}function T(e){let t=localStorage.getItem("idBooks");(t==="undefined"||!t||t==="")&&(t=[],localStorage.setItem("idBooks",JSON.stringify(t)),t=JSON.parse(localStorage.getItem("idBooks")),t.push(e),localStorage.setItem("idBooks",JSON.stringify(t)),u.textContent="Remove from shopping list",y.classList.remove("visually-hidden"))}function C(e){let t=JSON.parse(localStorage.getItem("idBooks"));t.splice(t.indexOf(e),1),localStorage.setItem("idBooks",JSON.stringify(t)),u.textContent="Add to shopping list",y.classList.add("visually-hidden")}const m=document.querySelector(".scrollToTop");window.onscroll=()=>{window.scrollY>500?m.classList.remove("isHide"):window.scrollY<500&&m.classList.add("isHide"),m.onclick=()=>{window.scrollTo(0,0)}};
//# sourceMappingURL=commonHelpers.js.map
