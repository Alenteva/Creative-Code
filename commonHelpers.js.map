{"version":3,"file":"commonHelpers.js","sources":["../src/js/sign-up.js","../src/js/burger-menu.js","../src/js/home.js","../src/js/modal.js","../src/js/features.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { initializeApp } from 'firebase/app';\nimport { getAnalytics } from 'firebase/analytics';\nimport {\n  connectAuthEmulator,\n  createUserWithEmailAndPassword,\n  getAuth,\n  onAuthStateChanged,\n  sendEmailVerification,\n  sendPasswordResetEmail,\n  signInWithEmailAndPassword,\n  signInWithCustomToken,\n  signOut,\n} from 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyD8UvisVnkCvMijmf6q4ZtLkQgC43vz2KM',\n  authDomain: 'dookshelf-357a4.firebaseapp.com',\n  projectId: 'dookshelf-357a4',\n  storageBucket: 'dookshelf-357a4.appspot.com',\n  messagingSenderId: '957443484270',\n  appId: '1:957443484270:web:de06245395594e6cf9947f',\n  measurementId: 'G-PGZE6HZC47',\n};\ninitializeApp(firebaseConfig);\nconst auth = getAuth();\n\nconst formContainer = document.querySelector('.Form-window');\nconst closeFormBtn = document.querySelector('.Close-form-btn');\nconst headerSignUp = document.querySelectorAll('.sign-up');\nconst burgSignUp = document.querySelector('.burger-menu-user');\nconst emailInput = document.getElementById('email');\nconst passwordInput = document.getElementById('password');\nconst usernamelInput = document.getElementById('username');\nconst signInButton = document.querySelector('.quickstart-sign-in');\nconst signUpButton = document.querySelector('.quickstart-sign-up');\nconst headerNav = document.querySelector('.header-nav');\nconst burgMenu = document.querySelector('.burger-menu-list');\nconst passwordResetButton = document.querySelector('.reset-btn');\nconst logOutBtn = document.querySelector('.log-out-btn');\n// ========================================================================\nheaderSignUp.forEach(el => {\n  el.addEventListener('click', function () {\n    formContainer.classList.add('is-open');\n  });\n});\ncloseFormBtn.addEventListener('click', function () {\n  formContainer.classList.remove('is-open');\n});\n// =================================================\nfunction toggleSignIn() {\n  if (auth.currentUser) {\n    signOut(auth).then(() => {\n      handleSignOut();\n      updateUI();\n    });\n  } else {\n    const email = emailInput.value;\n    const password = passwordInput.value;\n    const name = usernamelInput.value;\n\n    if (email.length < 4) {\n      alert('Please enter an email address');\n      return;\n    }\n\n    if (password.length < 4) {\n      alert('Please enter a password with at least 4 characters');\n      return;\n    }\n\n    signInWithEmailAndPassword(auth, email, password)\n      .then(userCredential => {\n        const user = userCredential.user;\n        user.displayName = name;\n        formContainer.classList.remove('is-open');\n        headerNav.style.display = 'flex';\n        burgMenu.style.display = 'block';\n        headerSignUp.textContent = user.displayName;\n        burgSignUp.textContent = user.displayName;\n        iziToast.show({\n          title: 'Hello',\n          message: `Welcome, ${user.displayName}!`,\n          color: 'blue',\n          position: 'topCenter',\n        });\n        localStorage.setItem(\n          'user-data',\n          JSON.stringify({\n            name: user.displayName,\n            mail: user.email,\n          })\n        );\n        user.getIdToken().then(token => {\n          localStorage.setItem('userToken', token);\n        });\n      })\n      .catch(error => {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n\n        if (errorCode === 'auth/wrong-password') {\n          alert('Wrong password');\n        } else {\n          alert(errorMessage);\n        }\n        console.error(error);\n      });\n  }\n}\n// ===============================================\nfunction handleSignUp() {\n  const email = emailInput.value;\n  const password = passwordInput.value;\n  const name = usernamelInput.value;\n  if (email.length < 4) {\n    alert('Please enter an email address.');\n    return;\n  }\n  if (password.length < 4) {\n    alert('Please enter a password.');\n    return;\n  }\n  // Create user with email and pass.\n  createUserWithEmailAndPassword(auth, email, password)\n    .then(userCredential => {\n      const user = userCredential.user;\n      user.displayName = name;\n      formContainer.classList.remove('is-open');\n      headerNav.style.display = 'flex';\n      burgMenu.style.display = 'block';\n      headerSignUp.textContent = user.displayName;\n      burgSignUp.textContent = user.displayName;\n      iziToast.show({\n        title: 'Ok',\n        message: 'You have successfully registered!',\n        color: 'blue',\n        position: 'topCenter',\n      });\n      localStorage.setItem(\n        'user-data',\n        JSON.stringify({\n          name: user.displayName,\n          mail: user.email,\n        })\n      );\n      user.getIdToken().then(token => {\n        localStorage.setItem('userToken', token);\n      });\n    })\n    .catch(function (error) {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      if (errorCode == 'auth/weak-password') {\n        alert('The password is too weak.');\n      } else {\n        alert(errorMessage);\n      }\n      console.log(error);\n    });\n}\n// =========================================================================\nwindow.onload = function () {\n  const token = localStorage.getItem('userToken');\n  if (token) {\n    signInWithCustomToken(auth, token)\n      .then(userCredential => {\n        const user = userCredential.user;\n        const userData = JSON.parse(localStorage.getItem('user-data'));\n        if (userData) {\n          user.displayName = userData.name;\n          user.email = userData.mail;\n          formContainer.classList.remove('is-open');\n          headerNav.style.display = 'flex';\n          burgMenu.style.display = 'block';\n          headerSignUp.textContent = user.displayName;\n          burgSignUp.textContent = user.displayName;\n          updateUI(user);\n        }\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  } else {\n    updateUI();\n  }\n};\n\nfunction updateUI(user) {\n  if (user) {\n    // Відображення UI для автентифікованого користувача\n    formContainer.classList.remove('is-open');\n    headerNav.style.display = 'flex';\n    burgMenu.style.display = 'block';\n    headerSignUp.textContent = user.displayName;\n    burgSignUp.textContent = user.displayName;\n  } else {\n    // Відображення UI для неавтентифікованого користувача\n    headerNav.style.display = 'none';\n    burgMenu.style.display = 'none';\n    formContainer.classList.remove('is-open');\n  }\n}\n// ========================================================================\nfunction resetPassword() {\n  const email = emailInput.value;\n  sendPasswordResetEmail(auth, email)\n    .then(function () {\n      iziToast.show({\n        message: 'Password reset email sent. Check your email',\n        color: 'yellow',\n        position: 'topCenter',\n      });\n    })\n    .catch(function (error) {\n      // Handle Errors here.\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      if (errorCode == 'auth/invalid-email') {\n        alert(errorMessage);\n      } else if (errorCode == 'auth/user-not-found') {\n        alert(errorMessage);\n      }\n      console.log(error);\n    });\n}\n// ========================================================================\nfunction handleSignOut() {\n  if (auth.currentUser) {\n    signOut(auth).then(() => {\n      localStorage.removeItem('user-data'); // Очищення кешованих даних користувача\n      localStorage.removeItem('userToken'); // Видалення токена після виходу\n      updateUI(); // Оновлення UI після виходу\n    });\n  }\n}\n// ========================================================================\nsignUpButton.addEventListener('click', function (event) {\n  event.preventDefault();\n  handleSignUp();\n});\n\nsignInButton.addEventListener('click', function (event) {\n  event.preventDefault();\n  toggleSignIn();\n});\n\npasswordResetButton.addEventListener('click', function (event) {\n  event.preventDefault();\n  resetPassword();\n});\n\nlogOutBtn.addEventListener('click', function (event) {\n  event.preventDefault();\n  handleSignOut();\n});\n\n// ======================================================================\n","export function initBurgerMenu() {\n  const burgerToggle = document.getElementById('burgerToggle');\n  const burgerMenu = document.getElementById('burgerMenu');\n\n  burgerToggle.addEventListener('click', function () {\n    burgerMenu.classList.toggle('burger-menu-show');\n\n    if (burgerMenu.classList.contains('burger-menu-show')) {\n      const closeIconPath = './images/icon.svg#icon-close'; \n      burgerToggle.innerHTML = `\n      <svg width=\"18\" height=\"18\" stroke=\"#000\">\n        <use href=\"${closeIconPath}\"></use>\n      </svg>`;\n    } else {\n      const menuIconPath = './images/icon.svg#icon-menu'; \n      burgerToggle.innerHTML = `\n      <svg width=\"28\" height=\"28\">\n        <use href=\"${menuIconPath}\"></use>\n      </svg>`;\n    }\n  });\n\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  initBurgerMenu();\n});\n\nconst home = document.getElementById('home');\nconst shoppingList = document.getElementById('shopping-list');\n\nhome.classList.add('active');\n\nconst handleClick = event => {\n  if (event.target === home) {\n    home.classList.add('active');\n    shoppingList.classList.remove('active');\n  } else if (event.target === shoppingList) {\n    home.classList.remove('active');\n    shoppingList.classList.add('active');\n  }\n};\n\n\n","import iziToast from 'izitoast';\nimport axios from 'axios';\nimport SimpleLightbox from 'simplelightbox';\n\nconst listOne = document.querySelector('.list-one');\nconst listCategories = document.querySelector('.list_categories');\nconst titleSelectedCategory = document.querySelector('.main-title');\nlet bigImage;\nlet selectedCategory;\nlet number;\n\nfunction isWidthDevice() {\n  let widthWindow = window.innerWidth;\n\n  if (widthWindow <= 767) return (number = 0);\n  else if (widthWindow <= 1439) return (number = 2);\n  else return (number = 4);\n}\n\nfunction changeColorTitle() {\n  const arrayTitle = titleSelectedCategory.textContent.split(' ');\n  const lastWord = arrayTitle[arrayTitle.length - 1];\n  titleSelectedCategory.innerHTML = titleSelectedCategory.innerHTML.replace(\n    lastWord,\n    `<span class=\"blue\">${lastWord}</span>`\n  );\n}\n\nasync function preview() {\n  bigImage = new SimpleLightbox('.link-img');\n}\n\n////////list books on main page/////////\n\nasync function renderBooksMainPage(boo) {\n  listOne.innerHTML = '';\n  let stringOne = '';\n  let stringTwo = '';\n  const countBook = isWidthDevice();\n  for (let i in boo) {\n    stringOne += `\n            <li class=\"books_list\">\n                <h2 class=\"name_category\">${boo[i].list_name}</h2>\n                <ul class=\"images_books\">`;\n\n    for (let j in boo[i].books) {\n      stringOne += `<li class=\"image_book\" data-category=\"${boo[i].books[j]._id}\">\n                                    <div class=\"div-animation\">\n                                            <a class=\"link-img\" href=\"${boo[i].books[j].book_image}\"><img class=\"img-example\" alt=\"Book title\" src=\"${boo[i].books[j].book_image}\"></img></a>\n                                        <div class=\"box-quick-view\"><p class=\"animation-paragraf\">Quick view</p></div>\n                                    </div>\n                                \n                                <div class=\"box-cards\">\n                                    <p class=\"title-book\">${boo[i].books[j].title}</p>\n                                    <p class=\"author-book\">${boo[i].books[j].author}</p>\n                                </div>\n                            </li>`;\n      if (countBook == j) break;\n    }\n    stringOne += `</ul><button class=\"button-see-more\" data-category=\"${boo[i].list_name}\">See more</button></li>`;\n  }\n  listOne.insertAdjacentHTML('beforeend', stringOne);\n  preview();\n}\n\n///if click on button \"See more\"////\n\nlistOne.addEventListener('click', async e => {\n  if (e.target.classList.contains('button-see-more')) {\n    const dataset = e.target.dataset.category;\n\n    titleSelectedCategory.textContent = dataset;\n\n    if (listCategories.querySelector('.categoria')) {\n      const categoryItems = listCategories.querySelectorAll('.categoria');\n      categoryItems.forEach(option => {\n        if (titleSelectedCategory.textContent === option.textContent) {\n          document\n            .querySelector('.selected-categories')\n            .classList.remove('selected-categories');\n          option.classList.add('selected-categories');\n        }\n      });\n    }\n\n    const arrayWords = titleSelectedCategory.textContent.split(' ');\n    const word = arrayWords[arrayWords.length - 1];\n    titleSelectedCategory.innerHTML = titleSelectedCategory.innerHTML.replace(\n      word,\n      `<span class=\"blue\">${word}</span>`\n    );\n\n    await axios\n      .get(\n        `https://books-backend.p.goit.global/books/category?category=${dataset}`\n      )\n      .then(response => {\n        if (response.data.length === 0) {\n          throw new Error(\n            `Sorry, books in the selected category were not found`\n          );\n        }\n        renderBooks(response.data);\n      })\n      .catch(error =>\n        iziToast.error({\n          title: 'Error',\n          message: error.message,\n        })\n      );\n  }\n});\n\nasync function updateBooksDisplay() {\n  listOne.innerHTML = '';\n  if (titleSelectedCategory.textContent === 'Best Sellers Books') {\n    await axios\n      .get(`https://books-backend.p.goit.global/books/top-books`)\n      .then(response => {\n        if (response.data.length === 0) {\n          throw new Error(\n            `Sorry, books in the selected category were not found`\n          );\n        }\n        renderBooksMainPage(response.data);\n      })\n      .catch(error =>\n        iziToast.error({\n          title: 'Error',\n          message: error.message,\n        })\n      );\n  } else {\n    await axios\n      .get(\n        `https://books-backend.p.goit.global/books/category?category=${selectedCategory}`\n      )\n      .then(response => {\n        if (response.data.length === 0) {\n          throw new Error(\n            `Sorry, books in the selected category were not found`\n          );\n        }\n        renderBooks(response.data);\n      })\n      .catch(error =>\n        iziToast.error({\n          title: 'Error',\n          message: error.message,\n        })\n      );\n  }\n}\nupdateBooksDisplay();\n\n//////list books on main page/////////\n\n//////////changes in menu and searching books//////////////\n\nasync function renderCategories(list) {\n  let listCard = '';\n  const categoriaAll = `<li tabindex=\"0\" data-name=\"Best Sellers Books\" class=\"categoria selected-categories\">All categories</li>`;\n  list.forEach(option => {\n    listCard += `<li tabindex=\"0\" data-name=\"${option.list_name}\" class=\"categoria\">${option.list_name}</li>`;\n  });\n  listCategories.insertAdjacentHTML('beforeend', listCard);\n  listCategories.insertAdjacentHTML('afterbegin', categoriaAll);\n\n  const optionList = document.querySelectorAll('.categoria');\n\n  optionList.forEach(select => {\n    select.addEventListener('click', async e => {\n      e.preventDefault();\n      document\n        .querySelector('.selected-categories')\n        .classList.remove('selected-categories');\n      e.target.classList.add('selected-categories');\n      selectedCategory = e.target.textContent;\n      selectedCategory = selectedCategory.replace(/ /g, '%20');\n\n      if (e.target.textContent !== 'All categories') {\n        titleSelectedCategory.textContent = e.target.textContent;\n        changeColorTitle();\n\n        await axios\n          .get(\n            `https://books-backend.p.goit.global/books/category?category=${selectedCategory}`\n          )\n          .then(response => {\n            if (response.data.length === 0) {\n              throw new Error(\n                `Sorry, books in the selected category were not found`\n              );\n            }\n            renderBooks(response.data);\n          })\n          .catch(error =>\n            iziToast.error({\n              title: 'Error',\n              message: error.message,\n            })\n          );\n      } else {\n        titleSelectedCategory.textContent = 'Best Sellers Books';\n        changeColorTitle();\n\n        await axios\n          .get(`https://books-backend.p.goit.global/books/top-books`)\n          .then(response => {\n            if (response.data.length === 0) {\n              throw new Error(\n                `Sorry, books in the selected category were not found`\n              );\n            }\n            renderBooksMainPage(response.data);\n          })\n          .catch(error =>\n            iziToast.error({\n              title: 'Error',\n              message: error.message,\n            })\n          );\n      }\n    });\n  });\n}\n\n///////////changes in menu and searching books////////////////\n\n///////////////list categories////////////////\n\naxios\n  .get(`https://books-backend.p.goit.global/books/category-list`)\n  .then(response => {\n    renderCategories(response.data);\n  })\n  .catch(error =>\n    iziToast.error({\n      title: 'Error',\n      message: error.message,\n    })\n  );\n\n//////////////list categories//////////////\n\nasync function renderBooks(books) {\n  let booksCard = '';\n  listOne.innerHTML = '';\n  books.forEach(book => {\n    booksCard += `<li class=\"book\" data-category=\"${book._id}\">\n                        <div class=\"div-animation\">\n                        <a class=\"link-img\" href=\"${book.book_image}\"><img class=\"img-example\" alt=\"Book title\" src=\"${book.book_image}\"></img></a>\n                            <div class=\"box-quick-view\"><p class=\"animation-paragraf\">Quick view</p></div>\n                        </div>\n                                <div class=\"box-cards\">\n                                    <p class=\"title-book\">${book.title}</p>\n                                    <p class=\"author-book\">${book.author}</p>\n                                </div>\n                      </li>`;\n  });\n  listOne.insertAdjacentHTML('beforeend', booksCard);\n  preview();\n}\n\n////for another//////\n\nexport function darkHome() {\n  const titleBook = document.querySelectorAll('.title-book');\n  titleBook.forEach((title.style.color = 'white'));\n\n  if (listCategories.querySelector('.categoria')) {\n    optionList.forEach(option => {\n      option.addEventListener('mouseover', e => (e.style.color = '#eac645'));\n      option.style.color = 'rgba(255, 255, 255, 0.6)';\n    });\n  }\n}\n\n// export function getId(e) {\n//   const box = e.target.closest('.box-quick-view');\n//   if (e.target.closest('.box-quick-view')) {\n//     const LI = box.closest('.image_book') || box.closest('.book');\n//     const bookId = LI.dataset.category;\n//     return bookId;\n//   }\n// }\n////for another//////\n","import axios from \"axios\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nconst listOne = document.querySelector(\".list-one\");\nlet arrayBooksShop = getMapFromLocalStorage();\nupdateLocalStorage();\n\nconst congratulations = document.querySelector(\"#congratulations\");\n\nconst modalWindow = document.querySelector(\".modal-window-shop\");\nlistOne.addEventListener('click', async (e) => {\n  if (e.target.classList.contains('box-quick-view')) {\n      const id = e.target.parentNode.parentNode.dataset.category;\n      renderBook(id);\n  } else if (e.target.classList.contains('animation-paragraf')) {\n      const id = e.target.parentNode.parentNode.parentNode.dataset.category;\n      renderBook(id);\n  }\n});\n\n\n\nasync function renderBook(_id) {\n  document.body.classList.add('modal-open');\n  const response = await axios.get(`https://books-backend.p.goit.global/books/${_id}`);\n  const book = response.data;\n  let shopBook = `\n      <span>\n          <svg class=\"close-window\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path class=\"close-window\" d=\"M21 7L7 21M7 7L21 21\" stroke=\"#111111\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n          </svg>\n      </span>\n      <div class=\"main-modal-window-content\">\n          <div class=\"modal-image-container\"><img class=\"modal-image\" src=\"${book.book_image}\" alt=\"${book.title}\"></div>\n          <div class=\"modal-main-content-text\">\n              <h2 class=\"\">${book.title}</h2>\n              <p class=\"book-author\">${book.author}</p>\n              <p class=\"modal-book-description\">${book.description}</p>\n              <div class=\"links-books\">\n                  <a class=\"\" href=\"${book.buy_links[0].url}\" rel=\"amazon ${book.title}\" target=\"_blank\"\"><img src=\"./images/myPhotos/amazon.png\" alt=\"amazon\" class=\"filter-img\"></a>\n                  <a class=\"\" href=\"${book.buy_links[1].url}\" rel=\"apple-book\" target=\"_blank\"\"><img src=\"./images/myPhotos/book.png\" alt=\"amazon\" class=\"filter-img\"></a>\n              </div>\n          </div>\n      </div>\n      `; if (arrayBooksShop.has(book.title)) {\n    shopBook += `<button class=\"card-books-category-button margin-add\" type=\"button\" data-id=\"${book._id}\" data-title=\"${book.title}\">Remove from the shopping list</button>\n            `;\n  } else {\n    shopBook += `<button class=\"card-books-category-button margin-add\" type=\"button\" data-id=\"${book._id}\" data-title=\"${book.title}\">Add to shopping list</button>\n            <p id=\"congratulations\" hidden>Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>`;\n    document.querySelector(\".modal-content\").innerHTML = shopBook;\n    document.querySelector(\".modal-window-shop\").style.display = \"block\";\n  }\n}\n\nmodalWindow.addEventListener(\"click\", async (e) => {\n  \n  if (e.target.classList.contains('close-window')) {\n    document.querySelector(\".modal-window-shop\").style.display = \"none\";\n    // этот класс убирает сдвиг из-за того что пропадает справа полоса прокрутки\n    document.body.classList.remove('modal-open');\n  }\n  else if (e.target.classList.contains('modal-window-shop')) {\n    document.querySelector(\".modal-window-shop\").style.display = \"none\";\n    document.body.classList.remove('modal-open');\n  }\n  else if (e.target.classList.contains('card-books-category-button')) {\n    bookSaveInShop(e.target);\n  } \n});\n \n\n\n\ndocument.addEventListener(\"keydown\", (e) => {\n  if (e.key === \"Escape\") {\n    modalWindow.style.display = \"none\";\n    document.body.classList.remove('modal-open');\n  }\n  }\n)\n\nasync function bookSaveInShop(buttonShL) {\n    try {\n        if (buttonShL.textContent === \"Add to shopping list\") {\n            if (arrayBooksShop.has(buttonShL.dataset.title)) {\n                throw new Error('This book has added');\n            }\n            arrayBooksShop.set(buttonShL.dataset.title, buttonShL.dataset.id);\n   \n          \n        \n          \n          buttonShL.textContent = \"Remove from the shopping list\";\n          const congratulations = document.querySelector(\"#congratulations\");\n          congratulations.removeAttribute(\"hidden\");\n        }\n        else {\n            arrayBooksShop.delete(bookTitle);\n          buttonShL.textContent = \"Add to shopping list\";\n           const congratulations = document.querySelector(\"#congratulations\");\n           congratulations.setAttribute(\"hidden\", \"\");\n        }\n    } catch (error) {\n        iziToast.error({\n            title: \"Error\",\n            message: error.message,\n        });\n    } finally {\n        updateLocalStorage();\n        updateArrayMap();\n    }\n}\n\nfunction getMapFromLocalStorage() {\n  const serializedData = localStorage.getItem('arrayBooksShop');\n    if (serializedData) {\n        const dataArray = JSON.parse(serializedData);\n        return new Map(dataArray);\n    }\n    return new Map();\n}\nfunction updateLocalStorage() {\n    const serializedData = JSON.stringify([...arrayBooksShop]);\n  localStorage.setItem('arrayBooksShop', serializedData);\n  return console.log(serializedData);\n}\nfunction updateArrayMap() {\n  arrayBooksShop = getMapFromLocalStorage();\n}\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","const crollToTop = document.querySelector('.scrollToTop');\n\nwindow.onscroll = () => {\n  if (window.scrollY > 500) {\n    crollToTop.classList.remove('isHide');\n  } else if (window.scrollY < 500) {\n    crollToTop.classList.add('isHide');\n  }\n  crollToTop.onclick = () => {\n    window.scrollTo(0, 0);\n  };\n};\n"],"names":["firebaseConfig","initializeApp","auth","getAuth","formContainer","closeFormBtn","headerSignUp","burgSignUp","emailInput","passwordInput","usernamelInput","signInButton","signUpButton","headerNav","burgMenu","passwordResetButton","logOutBtn","el","toggleSignIn","signOut","handleSignOut","updateUI","email","password","name","signInWithEmailAndPassword","userCredential","user","iziToast","token","error","errorCode","errorMessage","handleSignUp","createUserWithEmailAndPassword","signInWithCustomToken","userData","resetPassword","sendPasswordResetEmail","event","initBurgerMenu","burgerToggle","burgerMenu","closeIconPath","menuIconPath","home","listOne","listCategories","titleSelectedCategory","selectedCategory","isWidthDevice","widthWindow","changeColorTitle","arrayTitle","lastWord","preview","SimpleLightbox","renderBooksMainPage","boo","stringOne","countBook","i","j","dataset","option","arrayWords","word","axios","response","renderBooks","updateBooksDisplay","renderCategories","list","listCard","categoriaAll","select","e","books","booksCard","book","arrayBooksShop","getMapFromLocalStorage","updateLocalStorage","modalWindow","id","renderBook","_id","shopBook","bookSaveInShop","buttonShL","updateArrayMap","serializedData","dataArray","crollToTop"],"mappings":"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"}